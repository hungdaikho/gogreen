@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --color-black: 0 0 0;
  --color-white: 255 255 255;
  --color-gray-50: 250 250 250;
  --color-gray-100: 244 244 245;
  --color-gray-150: 236 236 238;
  --color-gray-200: 228 228 231;
  --color-gray-250: 220 220 224;
  --color-gray-300: 212 212 216;
  --color-gray-350: 187 187 193;
  --color-gray-400: 161 161 170;
  --color-gray-450: 137 137 146;
  --color-gray-500: 113 113 122;
  --color-gray-550: 98 98 107;
  --color-gray-600: 82 82 91;
  --color-gray-650: 73 73 81;
  --color-gray-700: 63 63 70;
  --color-gray-750: 51 51 56;
  --color-gray-800: 39 39 42;
  --color-gray-850: 32 32 35;
  --color-gray-900: 24 24 27;
  --color-gray-950: 18 18 21;
  --color-overlay: rgb(var(--color-black) / 60%);
  --space-0: 0;
  --space-1: 0.125rem;
  --space-2: 0.25rem;
  --space-3: 0.375rem;
  --space-4: 0.5rem;
  --space-5: 0.625rem;
  --space-6: 0.75rem;
  --space-7: 0.875rem;
  --space-8: 1rem;
  --space-9: 1.25rem;
  --space-10: 1.5rem;
  --space-11: 1.75rem;
  --space-12: 2rem;
  --space-13: 2.25rem;
  --space-14: 2.5rem;
  --space-15: 3rem;
  --space-16: 3.5rem;
  --space-17: 4rem;
  --space-18: 4.5rem;
  --space-19: 5rem;
  --space-20: 6rem;
  --space-21: 7rem;
  --space-22: 8rem;
  --space-23: 9rem;
  --space-24: 10rem;
  --size-2xs: 0.625rem;
  --size-xs: 0.75rem;
  --size-sm: 0.875rem;
  --size: 1rem;
  --size-lg: 1.125rem;
  --size-xl: 1.25rem;
  --size-2xl: 1.5rem;
  --size-3xl: 2rem;
  --size-4xl: 3rem;
  --radius-xs: 0.3rem;
  --radius-sm: 0.4rem;
  --radius: 0.7rem;
  --radius-lg: 0.8rem;
  --shadow-xs: 0 1px 4px rgb(var(--color-black) / 5%);
  --shadow-sm: 0 2px 8px rgb(var(--color-black) / 5%);
  --shadow: 0 3px 10px rgb(var(--color-black) / 5%);
  --shadow-lg: 0 4px 20px rgb(var(--color-black) / 5%);
  --shadow-xl: 0 5px 30px rgb(var(--color-black) / 5%);
  --backdrop-surface: saturate(2) blur(16px);
  --transition: 0.15s ease-in-out;
  --transition-linear: 0.15s linear;
  --header-height: 60px;
  --z-above: 100;
  --z-overlay: 200;
  --z-badge: 1000;
  --opacity-hover: 0.8;
  --opacity-disabled: 0.5;

  accent-color: var(--color-accent);
}

:root {
  --color-red: 239 67 67;
  --color-green: 132 204 22;
  --color-accent: rgb(var(--color-gray-900));
  --color-surface: rgb(var(--color-gray-100));
  --color-surface-hover: rgb(var(--color-gray-150));
  --color-surface-elevated: rgb(var(--color-white));
  --color-border: rgb(var(--color-gray-150));
  --color-border-contrasted: rgb(var(--color-gray-250));
  --color-border-transparent: rgb(var(--color-gray-900) / 10%);
  --color-skeleton: rgb(var(--color-gray-150));
  --color-skeleton-shine: rgb(var(--color-gray-50));
  --color-tooltip: rgb(var(--color-gray-950));
  --color-tooltip-text: rgb(var(--color-white));
  --color-tooltip-border: rgb(var(--color-gray-750));
  --color-text: rgb(var(--color-gray-900));
  --color-text-light: rgb(var(--color-gray-600));
  --color-text-lighter: rgb(var(--color-gray-500));
  --color-text-lightest: rgb(var(--color-gray-400));

  color-scheme: light;
}

[data-theme='dark'] {
  --color-red: 248 113 113;
  --color-green: 162 230 53;
  --color-accent: rgb(var(--color-white));
  --color-surface: rgb(var(--color-gray-850));
  --color-surface-hover: rgb(var(--color-gray-800));
  --color-surface-elevated: rgb(var(--color-gray-950));
  --color-border: rgb(var(--color-gray-750));
  --color-border-contrasted: rgb(var(--color-gray-650));
  --color-border-transparent: rgb(var(--color-white) / 10%);
  --color-skeleton: rgb(var(--color-gray-750));
  --color-skeleton-shine: rgb(var(--color-gray-850));
  --color-text: rgb(var(--color-white));
  --color-text-light: rgb(var(--color-gray-300));
  --color-text-lighter: rgb(var(--color-gray-400));
  --color-text-lightest: rgb(var(--color-gray-500));

  color-scheme: dark;
}

/* Give a remote user a caret */
.collaboration-cursor__caret {
  border-left: 1px solid #0d0d0d;
  border-right: 1px solid #0d0d0d;
  margin-left: -1px;
  margin-right: -1px;
  pointer-events: none;
  position: relative;
  word-break: normal;
}

/* Render the username above the caret */
.collaboration-cursor__label {
  font-style: normal;
  font-weight: 600;
  left: -1px;
  line-height: normal;
  position: absolute;
  user-select: none;
  white-space: nowrap;
  font-size: 14px;
  color: #fff;
  top: -1.4em;
  border-radius: 6px;
  border-bottom-left-radius: 0;
  padding: 2px 6px;
  pointer-events: none;
  z-index: 10;
}

@layer base {
  .avatars {
    @apply flex px-3 py-0;
  }
  .avatar {
    @apply flex shrink-0 place-content-center relative border-[color:var(--color-surface-elevated)] w-9 h-9 bg-gray-400 ml-[-0.75rem] rounded-full border-4 border-solid before:content-[attr(data-tooltip)] before:absolute before:opacity-0 before:transition-opacity before:duration-[0.15s] before:ease-[ease] before:text-[color:var(--color-surface-elevated)] before:text-xs before:z-[1] before:whitespace-nowrap before:mt-2.5 before:px-2.5 before:py-[5px] before:rounded-lg before:top-full hover:before:opacity-100;
  }
  .avatar:before {
    background: var(--color-text);
  }
  .avatar_picture {
    @apply rounded-full;
  }
  .tiptapTaskItem {
    @apply flex mt-[var(--space-2)] mb-[var(--space-2)] ml-[var(--space-8)] mr-0;
  }
  .tiptipTaskItemCheckbox {
    @apply flex-[0_0_auto] mt-[var(--space-1)] mr-[var(--space-6)] select-none ml-0 mb-0 pt-px;
  }
  .tiptipTaskItemContent {
    @apply flex-auto;
  }

  .editorHeader {
    @apply flex-[0_0] flex justify-between sticky border-b-[color:var(--color-border)] pt-[var(--space-3)] pr-[var(--space-3)] pb-[var(--space-3)] pl-[var(--space-3)] z-[var(--z-above)] border-b border-solid top-0 inset-x-0;
    align-items: start;
    background: var(--color-surface-elevated);
  }
  .editorPanel {
    @apply flex-1  relative;
  }
  .editor {
    @apply grow w-full h-full  pr-[var(--space-20)] min-h-[350px] py-4 pl-[var(--space-20)] rounded-[inherit];
  }
  .editor:focus {
    outline: none;
  }
  .editorContainer {
    @apply relative min-h-full w-full max-w-[900px] mt-[var(--space-8)] mb-[var(--space-8)] border border-[color:var(--color-border)] mx-auto border-solid;
    background: var(--color-surface-elevated);
  }
  .placeholder {
    @apply pointer-events-none absolute opacity-30 px-[1em] py-0 inset-0;
  }
  .bubbleMenuWrapper {
    @apply flex gap-[var(--space-2)] pt-[var(--space-3)] pr-[var(--space-3)] pb-[var(--space-3)] pl-[var(--space-3)] shadow-[var(--shadow-xl)] border border-[color:var(--color-border)] rounded-[var(--radius-sm)] border-solid;
    background: var(--color-surface-elevated);
  }
  .toolbar {
    @apply flex items-center flex-wrap shrink gap-[var(--space-2)];
  }
  .toolbarSection {
    @apply flex mr-[var(--space-8)] items-center gap-[var(--space-2)] before:content-[""] before:absolute before:w-px before:h-[var(--space-10)] before:ml-[calc(var(--space-4)_*_-1)];
  }
  .toolbarSection::before {
    background: var(--color-border);
  }
  .toolbarButton {
    @apply pt-[var(--space-4)] pr-[var(--space-4)] pb-[var(--space-4)] pl-[var(--space-4)];
  }
  .toolbarButton svg {
    @apply h-5 w-5;
  }
  .toolbarSeparator {
    @apply w-px h-[var(--space-10)] mr-[var(--space-2)] ml-[var(--space-2)] my-0;
    background: var(--color-border);
  }
  .toolbarPopover {
    @apply flex min-w-[160px] flex-col pt-[var(--space-4)] pr-[var(--space-4)] pb-[var(--space-4)] pl-[var(--space-4)] shadow-[var(--shadow-xl)];
  }
  .toolbarPopoverLabel {
    @apply text-[length:var(--size-sm)] font-medium pt-[var(--space-2)] pr-[var(--space-1)] pb-[var(--space-4)] pl-[var(--space-1)];
  }
  .toolbarPopoverBar {
    @apply flex gap-[var(--space-3)];
  }
  .toolbarPopoverInput {
    @apply w-[200px];
  }
  .toolbarPopoverButton {
    @apply whitespace-nowrap;
  }
  .headingsSelect {
    @apply w-[130px];
  }
  p.tiptap-empty:first-child::before {
    @apply text-[#adb5bd] content-[attr(data-placeholder)] float-left h-0 pointer-events-none;
  }
  .tiptap-paragraph {
    @apply mt-[var(--space-8)] mb-[var(--space-8)] mx-0;
  }
  .tiptap-hr {
    @apply mt-[var(--space-14)] mb-[var(--space-14)] border-b-[color:var(--color-border)] mx-0 border-b border-solid;
  }
  /*   h1.tiptap-heading {
    @apply text-[length:var(--size-3xl)] font-[bold] mt-[var(--space-12)] mb-[var(--space-8)];
  }
  h2.tiptap-heading {
    @apply text-[length:var(--size-2xl)] font-[bold] mt-[var(--space-12)] mb-[var(--space-8)];
  }
  h3.tiptap-heading {
    @apply text-[length:var(--size-xl)] font-[bold] mt-[var(--space-12)] mb-[var(--space-8)];
  } */
  h1.tiptap-heading:first-child,
  h2.tiptap-heading:first-child,
  h3.tiptap-heading:first-child {
    @apply mt-0;
  }
  h1.tiptap-heading + h2.tiptap-heading,
  h1.tiptap-heading + h3.tiptap-heading,
  h2.tiptap-heading + h1.tiptap-heading,
  h2.tiptap-heading + h3.tiptap-heading,
  h3.tiptap-heading + h1.tiptap-heading,
  h3.tiptap-heading + h2.tiptap-heading {
    @apply mt-0;
  }
  .tiptap-code {
    @apply text-[1.2em] leading-[1em] rounded-[var(--radius-xs)] font-normal pr-[var(--space-2)] pl-[var(--space-2)] py-0;
    background: var(--color-surface-hover);
  }
  h1 .tiptap-code,
  h2 .tiptap-code,
  h3 .tiptap-code {
    @apply text-[1em];
  }
  .tiptap-highlight {
    background: yellow;
  }
  .tiptap-link {
    @apply text-[color:var(--color-accent)] font-semibold cursor-pointer underline;
  }
  .tiptap-blockquote {
    @apply ml-[var(--space-8)] pl-[var(--space-8)] block border-l-[length:var(--space-2)] border-l-[color:var(--color-border-contrasted)] border-solid;
  }
  .tiptap-list-item p {
    @apply mt-[var(--space-2)] mb-[var(--space-2)] mx-0;
  }
  .tiptap-list-item {
    @apply ml-[var(--space-12)] pl-[var(--space-2)];
    list-style: disc;
  }
  .tiptap-list-item .tiptap-list-item,
  .tiptap-list-item
    .tiptap-list-item
    .tiptap-list-item
    .tiptap-list-item
    .tiptap-list-item {
    @apply ml-[var(--space-8)];
    list-style: circle;
  }
  .tiptap-list-item .tiptap-list-item .tiptap-list-item,
  .tiptap-list-item
    .tiptap-list-item
    .tiptap-list-item
    .tiptap-list-item
    .tiptap-list-item
    .tiptap-list-item {
    list-style: square;
  }
  .tiptap-list-item .tiptap-list-item .tiptap-list-item .tiptap-list-item,
  .tiptap-list-item
    .tiptap-list-item
    .tiptap-list-item
    .tiptap-list-item
    .tiptap-list-item
    .tiptap-list-item
    .tiptap-list-item {
    list-style: disc;
  }
  .tiptap-ordered-list .tiptap-list-item {
    list-style: decimal;
  }
  .tiptap-ordered-list .tiptap-list-item .tiptap-list-item,
  .tiptap-ordered-list
    .tiptap-list-item
    .tiptap-list-item
    .tiptap-list-item
    .tiptap-list-item
    .tiptap-list-item {
    list-style: lower-alpha;
  }
  .tiptap-ordered-list .tiptap-list-item .tiptap-list-item .tiptap-list-item,
  .tiptap-ordered-list
    .tiptap-list-item
    .tiptap-list-item
    .tiptap-list-item
    .tiptap-list-item
    .tiptap-list-item
    .tiptap-list-item {
    list-style: lower-roman;
  }
  .tiptap-ordered-list
    .tiptap-list-item
    .tiptap-list-item
    .tiptap-list-item
    .tiptap-list-item,
  .tiptap-ordered-list
    .tiptap-list-item
    .tiptap-list-item
    .tiptap-list-item
    .tiptap-list-item
    .tiptap-list-item
    .tiptap-list-item
    .tiptap-list-item {
    list-style: decimal;
  }
  .tiptap-task-list {
    @apply p-0;
    list-style: none;
  }
  .tiptap-task-list p {
    @apply m-0;
  }
  .tiptap-code-block {
    @apply text-[length:var(--size-sm)] leading-[1.6] whitespace-pre text-[rgb(var(--color-gray-100))] pt-[var(--space-8)] pr-[var(--space-8)] pb-[var(--space-8)] pl-[var(--space-8)] rounded-[var(--radius-xs)] mt-[var(--space-8)] mb-[var(--space-8)] mx-0;
    background: rgb(var(--color-gray-850));
  }
  .tiptap-image,
  .tiptap-youtube {
    @apply mt-[var(--space-8)] mb-[var(--space-8)] mx-0;
  }
  .tiptap-image.ProseMirror-selectednode,
  .tiptap-youtube.ProseMirror-selectednode {
    outline: 1.5px solid var(--color-accent);
  }
  .tiptap-youtube {
    @apply border-0;
  }
  /*   .collaboration-cursor__caret {
    @apply pointer-events-none relative break-normal -mx-px border-x-[#0d0d0d] border-l border-solid border-r;
  }
  .collaboration-cursor__label {
    @apply not-italic font-semibold leading-[normal] absolute select-none whitespace-nowrap text-sm text-white top-[-1.4em] pointer-events-none px-1.5 py-0.5 rounded-bl-none rounded-md -left-px;
  } */
  .loader {
    @apply inline-block fixed w-20 h-20 z-[1000] right-[50px] top-[50px];
  }
}
